(this["webpackJsonpshop-basket"]=this["webpackJsonpshop-basket"]||[]).push([[0],{24:function(t,e,n){},26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"addProduct",(function(){return m})),n.d(c,"removeProduct",(function(){return O}));var r=n(0),o=n.n(r),i=n(6),a=n.n(i),u=n(3),d=n(10),s=n(11),p=n(4),j=n(13),b=n(12),l="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442",f="\u0423\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442",m=function(t){return{type:l,payload:t}},O=function(t){return{type:f,payload:t}},h=(n(24),n(1)),v=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(d.a)(this,n),(c=e.call(this,t)).onRemove=c.onRemove.bind(Object(p.a)(c)),c.onAdd=c.onAdd.bind(Object(p.a)(c)),c}return Object(s.a)(n,[{key:"onRemove",value:function(t){var e=t.target.dataset.id;this.props.products.find((function(t){return t.id===e})).count>=1&&this.props.removeProduct({id:e})}},{key:"onAdd",value:function(t){var e=t.target.dataset.id;this.props.addProduct({id:e})}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"products",children:[Object(h.jsx)("h1",{className:"products__caption",children:"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),this.props.products.map((function(e){return Object(h.jsxs)("div",{className:"product",children:[Object(h.jsxs)("div",{className:"product__name",children:[e.name," - $",e.price]}),Object(h.jsxs)("div",{className:"product__buttons-wrapper",children:[Object(h.jsx)("button",{"data-id":e.id,onClick:t.onRemove,children:"-"}),Object(h.jsx)("div",{children:Object(h.jsx)("span",{children:e.count||""})}),Object(h.jsx)("button",{"data-id":e.id,onClick:t.onAdd,children:"+"})]})]},e.name)}))]})}}]),n}(o.a.Component),x=Object(u.b)((function(t){return{products:t.products.items}}),c)(v);n(26);function g(){var t=Object(u.c)((function(t){return t.products.items})),e=t.filter((function(t){return!!t.count})).map((function(t){return t.price*t.count})).reduce((function(t,e){return t+e}),0);return e?Object(h.jsxs)("button",{className:"basket",children:["\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043e\u043f\u043b\u0430\u0442\u0435 ($",e,")"]}):null}n(27);var y=function(){return Object(h.jsxs)("div",{className:"app",children:[Object(h.jsx)(x,{}),Object(h.jsx)(g,{})]})},k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),c(t),r(t),o(t),i(t)}))},N=(n(28),n(5)),C=n(2),P={items:[{id:"\u21161",name:"\u0427\u0430\u0440\u043b\u044c\u0437 \u041f\u0435\u0442\u0446\u043e\u043b\u044c\u0434 - \u041a\u043e\u0434 ",price:20,count:0},{id:"\u21162",name:"\u041c\u0430\u0440\u0435\u0439\u043d \u0425\u0430\u0432\u0435\u0440\u0431\u0435\u043a\u0435 - \u0412\u044b\u0440\u0430\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 JavaScript ",price:25,count:0},{id:"\u21163",name:"\u0420\u043e\u0431\u0435\u0440\u0442 \u041c\u0430\u0440\u0442\u0438\u043d - \u0427\u0438\u0441\u0442\u044b\u0439 \u043a\u043e\u0434 ",price:12,count:0},{id:"\u21164",name:"\u0414\u0436\u043e\u043d \u0414\u0430\u043a\u043a\u0435\u0442 - JavaScript \u0438 JQuery ",price:15,count:0},{id:"\u21165",name:"\u0411\u0430\u0440\u0431\u0430\u0440\u0430 \u041e\u0430\u043a\u043b\u0438 - \u0414\u0443\u043c\u0430\u0439 \u043a\u0430\u043a \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a ",price:10,count:0}]};var S=Object(N.b)({products:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0,n=e.type,c=e.payload;switch(n){case l:return Object(C.a)(Object(C.a)({},t),{},{items:t.items.map((function(t){return t.id===c.id?Object(C.a)(Object(C.a)({},t),{},{count:t.count+1}):t}))});case f:return Object(C.a)(Object(C.a)({},t),{},{items:t.items.map((function(t){return t.id===c.id?Object(C.a)(Object(C.a)({},t),{},{count:t.count-1}):t}))});default:return t}}}),_=Object(N.c)(S,Object(N.a)((function(t){return function(e){return function(n){console.log("\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",t.getState()),console.log("\u042d\u043a\u0448\u0435\u043d",n.type),e(n),console.log("\u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",t.getState())}}})));a.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(u.a,{store:_,children:Object(h.jsx)(y,{})})}),document.getElementById("root")),k()}},[[29,1,2]]]);
//# sourceMappingURL=main.ff819e7b.chunk.js.map